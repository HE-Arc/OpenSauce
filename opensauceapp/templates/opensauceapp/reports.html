{% extends 'opensauceapp/base.html' %}
{% block title %}Administration Page{% endblock %}
{% load static %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="{% static 'ressources/css/reports.css' %}">
{% endblock %}

{% block scripts %}
<script src="{% static 'ressources/js/reports.js' %}" charset="utf-8" defer></script>
{% endblock %}

{% block content %}
<div class="container">
	{% include 'opensauceapp/title.html' %}
	<div>
		<div class="d-flex">
			<p class="h2 opensauce">Liste des signalements</p>
			<a class="ml-auto" href="{% url 'logout' %}">Se déconnecter</a>
		</div>

		{% csrf_token %}
		{% for report in sauce_reports %}
		<div id="report_card_{{ report.id }}" class="card">
			<div class="card-header">
				Signalement #{{ report.id }}
			</div>
			<div class="card-body">
				<div class="card-text">

					{% if report.sauce.media_type == QUOTE %}
					<center>
						<p>Question : {{ report.sauce.question }}</p>
					</center>
					{% else %}
					<div id="question_image" class="w-100" style="background-image: url('{{report.sauce.question}}')"></div>
					{% endif %}

					<center>
						<p>Réponse : {{ report.sauce.answer }}</p>
					</center>
				</div>

				<center>
					<button type="button" value="{{ report.id }}" class="btn btn-primary ignore_button">Ignorer</a>
						<button type="button" value="{{ report.id }}" class="btn btn-primary delete_button">Supprimer</a>
				</center>
			</div>
		</div>
		{% endfor %}
	</div>
</div>
{% endblock %}
